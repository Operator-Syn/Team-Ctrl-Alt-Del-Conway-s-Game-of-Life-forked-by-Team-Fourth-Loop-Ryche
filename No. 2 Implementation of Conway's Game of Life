def print_g(g):
    for r in g: print("".join("O" if x else "." for x in r)) 
def step(g):
    R,C=len(g),len(g[0])
    out=[[0]*C for _ in range(R)]
    for i in range(R):
        for j in range(C):
            n=0
            for dr in (-1,0,1):
                for dc in (-1,0,1):
                    if dr==0 and dc==0: continue
                    r=(i+dr)%R; c=(j+dc)%C
                    n+=g[r][c]
            out[i][j]=1 if (g[i][j] and n in (2,3)) or (not g[i][j] and n==3) else 0
    return out 

grid = [
[0,0,1,0,0,0,0],
[1,0,1,0,0,0,0],
[0,1,1,0,0,0,0],
[0,0,0,0,1,1,1],
[0,0,0,0,0,0,0],
[0,0,0,1,0,0,0],
[0,1,0,0,0,0,0],
]

for gen in range(8):
    print(f"Gen {gen}")
    print_g(grid)
    grid = step(grid)
    print()
